<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="/publics/favicon.ico" type="image/x-icon" />
    <title>Linux 下 Ssh 安装配置以及公钥认证</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/publics/main.css">
  </head>

  <body>
    <div class="header">
    </div>

    <div class="content">
      <h1>Linux 下 Ssh 安装配置以及公钥认证</h1>
<div class="meta nowrap">
  <span>分类：Linux</span>
  <span>日期：2014年01月15日</span>
</div>
<hr>

<div class="post">
  <h3>安装配置 SSH 服务</h3>

<ol>
<li><p>安装</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">sudo aptitude install openssh-server
</code></pre></div></li>
<li><p>SSH 服务器端配置，编辑 <code>/etc/ssh/sshd_config</code>：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">PermitRootLogin no           # 禁止 root 远程登陆
RSAAuthentication yes        # 启用 RSA 认证
PubkeyAuthentication yes     # 启用公钥认证
PasswordAuthentication no    # 禁止使用密码认证
</code></pre></div></li>
<li><p>SSH 客服端配置，编辑 <code>/etc/ssh/ssh_config</code>：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">GSSAPIAuthentication no    # 解决 SSH 登陆响应慢的问题
</code></pre></div></li>
</ol>

<h3>配置 SSH 密钥认证</h3>

<ol>
<li><p>在客服端生成公钥</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">ssh-keygen -t dsa
</code></pre></div></li>
<li><p>查看权限</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">.ssh/              # 700
.ssh/id_rsa        # 600
.ssh/id_rsa.pub    # 644
</code></pre></div></li>
<li><p>在服务器端加入客服端公钥</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">ssh-copy-id -i ~/.ssh/id_dsa.pub root@192.168.122.101
</code></pre></div></li>
</ol>

<h3>配置 SSH 服务器别名</h3>

<ul>
<li><p>利用 ssh 的用户配置文件 <code>~/.ssh/config</code> 管理 ssh 会话</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">Host 别名
    HostName        # IP或域名
    User            # 用户名
    Port            # 端口，可选
    IdentityFile    # 密钥文件的路径，可选
</code></pre></div></li>
</ul>


  <hr>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'tangjiujun-techblog'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
</div>

    </div>

    <div class="footer center">
      <span class="nowrap">
        文章统计：12篇，最后更新时间：2014-02-10
      </span>
    </div>

  </body>
</html>
