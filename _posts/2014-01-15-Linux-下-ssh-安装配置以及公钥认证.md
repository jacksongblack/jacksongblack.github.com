---
layout: post
category: Linux
---

### 安装配置 SSH 服务

  1. 安装
  
        sudo aptitude install openssh-server

  2. SSH 服务器端配置，编辑 `/etc/ssh/sshd_config`：

        PermitRootLogin no           # 禁止 root 远程登陆
        RSAAuthentication yes        # 启用 RSA 认证
        PubkeyAuthentication yes     # 启用公钥认证
        PasswordAuthentication no    # 禁止使用密码认证

  3. SSH 客服端配置，编辑 `/etc/ssh/ssh_config`：

        GSSAPIAuthentication no    # 解决 SSH 登陆响应慢的问题
    
### 配置 SSH 密钥认证

  1. 在客服端生成公钥

        ssh-keygen -t dsa

  2. 查看权限

        .ssh/              # 700
        .ssh/id_rsa        # 600
        .ssh/id_rsa.pub    # 644

  3. 在服务器端加入客服端公钥

        ssh-copy-id -i ~/.ssh/id_dsa.pub root@192.168.122.101

### 配置 SSH 服务器别名

  * 利用 ssh 的用户配置文件 `~/.ssh/config` 管理 ssh 会话

        Host 别名
            HostName        # IP或域名
            User            # 用户名
            Port            # 端口，可选
            IdentityFile    # 密钥文件的路径，可选


